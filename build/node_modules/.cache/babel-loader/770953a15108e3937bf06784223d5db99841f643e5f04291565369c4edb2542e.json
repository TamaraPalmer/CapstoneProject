{"ast":null,"code":"import _slicedToArray from\"/Users/tamarapalmer/Desktop/CapstoneProject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Typography}from\"@mui/material\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import\"./BrowseArtist.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BrowseArtist(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),music=_useState2[0],setMusic=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentIndex=_useState4[0],setCurrentIndex=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPlaying=_useState6[0],setIsPlaying=_useState6[1];var _useState7=useState(-1),_useState8=_slicedToArray(_useState7,2),isHovering=_useState8[0],setIsHovering=_useState8[1];useEffect(function(){axios.get(\"https://v1.nocodeapi.com/fyiah876/spotify/fHCqbcjtNZRlBCZl/playlists?id=5HlbFuuO9gZ3Y4coHUtsSO?si=7dbcfaa9160c4816\").then(function(response){var tracks=response.data.tracks.items.slice(0,6)// include only the first 6 tracks\n.map(function(item){var track=item.track;return{name:track.name,artist:track.artists[0].name,// assuming there is only one artist per track\nimage:track.album.images[0].url,// get the first image url of the album\npreview:track.preview_url,id:track.artists[0].id};});setMusic(tracks);});},[]);useEffect(function(){var audioPlayer=document.getElementById(\"audioPlayer\");if(audioPlayer&&music.length>0){audioPlayer.src=music[currentIndex].preview;if(isPlaying){audioPlayer.play();}else{audioPlayer.pause();}}},[music,currentIndex,isPlaying]);function handleSongEnd(){setCurrentIndex(function(prevIndex){return(prevIndex+1)%music.length;});}function handlePlayerClick(){setIsPlaying(function(prevIsPlaying){return!prevIsPlaying;});}function handleMouseEnter(index){setIsHovering(index);}function handleMouseLeave(){setIsHovering(-1);}function handleCardClick(index){if(currentIndex===index){setIsPlaying(function(prevIsPlaying){return!prevIsPlaying;});}else{setCurrentIndex(index);setIsPlaying(true);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"audio\",{id:\"audioPlayer\",onEnded:handleSongEnd,preload:\"auto\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cards\",children:music.map(function(track,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",onMouseEnter:function onMouseEnter(){return handleMouseEnter(index);},onMouseLeave:handleMouseLeave,onClick:function onClick(){return handleCardClick(index);},children:[isHovering===index&&/*#__PURE__*/_jsx(\"div\",{className:\"player\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handlePlayerClick,children:isPlaying?\"Pause\":\"Play\"})}),/*#__PURE__*/_jsx(\"img\",{src:track.image,alt:\"\".concat(track.artist,\" - \").concat(track.name)}),/*#__PURE__*/_jsxs(Link,{className:\"next-video\",to:\"/artist/\".concat(track.id),children:[/*#__PURE__*/_jsx(Typography,{children:track.artist}),/*#__PURE__*/_jsx(Typography,{children:track.name})]})]},index);})})]});}export default BrowseArtist;","map":{"version":3,"names":["Typography","axios","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","BrowseArtist","_useState","_useState2","_slicedToArray","music","setMusic","_useState3","_useState4","currentIndex","setCurrentIndex","_useState5","_useState6","isPlaying","setIsPlaying","_useState7","_useState8","isHovering","setIsHovering","get","then","response","tracks","data","items","slice","map","item","track","name","artist","artists","image","album","images","url","preview","preview_url","id","audioPlayer","document","getElementById","length","src","play","pause","handleSongEnd","prevIndex","handlePlayerClick","prevIsPlaying","handleMouseEnter","index","handleMouseLeave","handleCardClick","className","children","onEnded","preload","onMouseEnter","onMouseLeave","onClick","alt","concat","to"],"sources":["/Users/tamarapalmer/Desktop/CapstoneProject/src/components/BrowseArtist/BrowseArtist.js"],"sourcesContent":["import { Typography } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./BrowseArtist.scss\";\r\n\r\nfunction BrowseArtist() {\r\n  const [music, setMusic] = useState([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isHovering, setIsHovering] = useState(-1);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\r\n        \"https://v1.nocodeapi.com/fyiah876/spotify/fHCqbcjtNZRlBCZl/playlists?id=5HlbFuuO9gZ3Y4coHUtsSO?si=7dbcfaa9160c4816\"\r\n      )\r\n      .then((response) => {\r\n        const tracks = response.data.tracks.items\r\n          .slice(0, 6) // include only the first 6 tracks\r\n          .map((item) => {\r\n            const track = item.track;\r\n            return {\r\n              name: track.name,\r\n              artist: track.artists[0].name, // assuming there is only one artist per track\r\n              image: track.album.images[0].url, // get the first image url of the album\r\n              preview: track.preview_url,\r\n              id: track.artists[0].id,\r\n            };\r\n          });\r\n        setMusic(tracks);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const audioPlayer = document.getElementById(\"audioPlayer\");\r\n    if (audioPlayer && music.length > 0) {\r\n      audioPlayer.src = music[currentIndex].preview;\r\n      if (isPlaying) {\r\n        audioPlayer.play();\r\n      } else {\r\n        audioPlayer.pause();\r\n      }\r\n    }\r\n  }, [music, currentIndex, isPlaying]);\r\n\r\n  function handleSongEnd() {\r\n    setCurrentIndex((prevIndex) => (prevIndex + 1) % music.length);\r\n  }\r\n\r\n  function handlePlayerClick() {\r\n    setIsPlaying((prevIsPlaying) => !prevIsPlaying);\r\n  }\r\n\r\n  function handleMouseEnter(index) {\r\n    setIsHovering(index);\r\n  }\r\n\r\n  function handleMouseLeave() {\r\n    setIsHovering(-1);\r\n  }\r\n\r\n  function handleCardClick(index) {\r\n    if (currentIndex === index) {\r\n      setIsPlaying((prevIsPlaying) => !prevIsPlaying);\r\n    } else {\r\n      setCurrentIndex(index);\r\n      setIsPlaying(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <audio id=\"audioPlayer\" onEnded={handleSongEnd} preload=\"auto\"></audio>\r\n      <div className=\"cards\">\r\n        {music.map((track, index) => (\r\n          <div\r\n            className=\"card\"\r\n            key={index}\r\n            onMouseEnter={() => handleMouseEnter(index)}\r\n            onMouseLeave={handleMouseLeave}\r\n            onClick={() => handleCardClick(index)}\r\n          >\r\n            {isHovering === index && (\r\n              <div className=\"player\">\r\n                <button onClick={handlePlayerClick}>\r\n                  {isPlaying ? \"Pause\" : \"Play\"}\r\n                </button>\r\n              </div>\r\n            )}\r\n            <img src={track.image} alt={`${track.artist} - ${track.name}`} />\r\n            <Link className=\"next-video\" to={`/artist/${track.id}`}>\r\n              <Typography>{track.artist}</Typography>\r\n              <Typography>{track.name}</Typography>\r\n            </Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BrowseArtist;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}